{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-fab5a619e7b29015.js","src/js/gameuser.js","src/js/firebase.js","node_modules/@parcel/runtime-js/lib/runtime-1e35eac890fac6f5.js","node_modules/@parcel/runtime-js/lib/runtime-a1aa57a062966a48.js","node_modules/@parcel/runtime-js/lib/runtime-0f2692316286dbd2.js","src/js/main.js","src/js/gamefunctions.js","src/js/overlayscreen.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3XOQC\\\":\\\"index.e0ea30d4.js\\\",\\\"8wsW5\\\":\\\"rock.bf6f169d.png\\\",\\\"9AVeY\\\":\\\"paper.d85e7935.png\\\",\\\"gNtWA\\\":\\\"scissors.97ff9710.png\\\"}\"));","export class GameUser {\n\t#user;\n\t#userScore;\n\n\tsetUser(user) {\n\t\tthis.#user = user;\n\t\tthis.#userScore = 0;\n\t}\n\n\tgetUser() {\n\t\treturn this.#user;\n\t}\n\n\taddOnePointToUserScore() {\n\t\tthis.#userScore++;\n\t}\n\n\tgetUserScore() {\n\t\treturn this.#userScore;\n\t}\n\n\tresetUserScore() {\n\t\tthis.#userScore = 0;\n\t}\n}\n","const firebaseURL = 'https://play-a-game-b2437-default-rtdb.europe-west1.firebasedatabase.app/';\n\nexport async function getHighScoreList() {\n\tconst highscorelistURL = `${firebaseURL}/highscore.json`;\n\tconst response = await fetch(highscorelistURL);\n\tconst data = await response.json();\n\n\treturn data;\n}\n\nexport async function updateHighScoreList(player, playerScore) {\n\t// get data from Realtime Database\n\tconst highScoreList = await getHighScoreList();\n\n\t// user's score\n\tconst newScore = { name: player, score: playerScore };\n\n\t// add new score to array list \n\thighScoreList.push(newScore);\n\n\t// sort the array list\n\thighScoreList.sort((a, b) => b.score - a.score);\n\n\t// trim the array list to 5 objects\n\tconst updatedHighScoreList = highScoreList.slice(0, 5);\n\tconsole.log('Updated list:', updatedHighScoreList);\n\n\t// update Realtime Database \n\tawait fetch(`${firebaseURL}/highscore.json`, {\n\t\tmethod: 'PUT',\n\t\tbody: JSON.stringify(updatedHighScoreList),\n\t\theaders: { \"Content-Type\": \"application/json\" }\n\t});\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8wsW5\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9AVeY\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gNtWA\")).toString();","import { GameFunctions } from './gamefunctions.js'\nimport { OverlayScreen } from './overlayscreen.js'\n\nconst functions = new GameFunctions()\nconst screen = new OverlayScreen()\n\n// Add highscore list\nfunctions.showHighScoreList()\n\n// Game starts when user clicking on go! button  \ndocument.querySelector('#setPlayerForm').addEventListener('submit', (event) => {\n\tevent.preventDefault(); // prevent form submission\n\tconst playerName = document.getElementById('playerName').value;\n\n\tif (playerName === 'Yoda') {\n\t\talert('No, Yoda. You are not welcome.')\n\t} else {\n\n\t\tscreen.removeOverlayScreen()\n\t\tfunctions.gameUser.setUser(playerName);\n\n\t\tconst rockButton = document.getElementById('rock');\n\t\tconst paperButton = document.getElementById('paper');\n\t\tconst scissorsButton = document.getElementById('scissors');\n\n\t\t// Call to main game method at gameFunction  \n\t\trockButton.addEventListener('click', () => functions.play('rock'));\n\t\tpaperButton.addEventListener('click', () => functions.play('paper'));\n\t\tscissorsButton.addEventListener('click', () => functions.play('scissors'));\n\t}\n})\n","import { GameUser } from './gameuser.js'\nimport { getHighScoreList, updateHighScoreList } from './firebase.js';\n\nimport rockImg from '../media/rock.png';\nimport paperImg from '../media/paper.png';\nimport scissorsImg from '../media/scissors.png'; \n\nexport class GameFunctions {\n\n\tgameUser = new GameUser();\n\n\t// main function \n\tplay(userChoice) {\n\n\t\tthis.showHighScoreList()\n\n\t\t// Add computer's random equipment\n\t\tconst computerChoice = this.createRandomEquipment()\n\n\t\t// Add computer equipment as picture \n\t\tconsole.log('computer:', computerChoice)\n\t\tthis.showEquipmentImg('computer', computerChoice)\n\n\t\t// Add user equipment as picture \n\t\tconsole.log('user:', userChoice);\n\t\tthis.showEquipmentImg('user', userChoice)\n\n\t\tif (userChoice === computerChoice) {\n\t\t\tconsole.log('Its a tie');\n\t\t\tthis.showTextResultat('tie')\n\n\t\t} else if ((userChoice === 'rock' && computerChoice === 'scissors') ||\n\t\t\t(userChoice === 'paper' && computerChoice === 'rock') ||\n\t\t\t(userChoice === 'scissors' && computerChoice === 'paper')) {\n\n\t\t\tconsole.log('You win');\n\t\t\tthis.showTextResultat('win')\n\t\t\tthis.gameUser.addOnePointToUserScore()\n\t\t\tthis.updateUserScoreH1()\n\n\t\t} else {\n\t\t\tconsole.log('You lose');\n\t\t\tthis.showTextResultat('lose')\n\n\t\t\tconst player = this.gameUser.getUser()\n\t\t\tconst playerScore = this.gameUser.getUserScore()\n\n\t\t\tupdateHighScoreList(player, playerScore)\n\t\t\tthis.gameUser.resetUserScore()\n\t\t\tthis.updateUserScoreH1()\n\t\t}\n\t}\n\n\tcreateRandomEquipment() {\n\t\tconst equipmentArray = ['rock', 'scissors', 'paper'];\n\t\tconst rnd = Math.floor(Math.random() * 3);\n\t\treturn equipmentArray[rnd];\n\t}\n\n\tshowEquipmentImg(user, equipment) {\n\t\tconst img = document.createElement('img');\n\n\t\tswitch (equipment) {\n\t\t\tcase 'rock':\n\t\t\t\timg.src = rockImg;\n\t\t\t\tbreak;\n\t\t\tcase 'paper':\n\t\t\t\timg.src = paperImg;\n\t\t\t\tbreak;\n\t\t\tcase 'scissors':\n\t\t\t\timg.src = scissorsImg;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error('Invalid equipment:', equipment);\n\t\t\t\treturn;\n\t\t}\n\n\t\t// Chose windows \n\t\tif (user !== 'computer') {\n\t\t\tconst div = document.querySelector('#userChoice');\n\t\t\tdiv.innerHTML = '';\n\t\t\tdiv.appendChild(img);\n\t\t} else {\n\t\t\tconst div = document.querySelector('#computerChoice');\n\t\t\tdiv.innerHTML = '';\n\t\t\tdiv.appendChild(img);\n\t\t}\n\t}\n\n\tshowTextResultat(resultat) {\n\t\tconst p = document.querySelector('#resultat')\n\n\t\tswitch (resultat) {\n\t\t\tcase 'tie':\n\t\t\t\tp.textContent = 'Its a tie!'\n\t\t\t\tp.className = 'orange'\n\t\t\t\tbreak;\n\t\t\tcase 'win':\n\t\t\t\tp.textContent = 'You win!'\n\t\t\t\tp.className = 'green'\n\t\t\t\tbreak;\n\t\t\tcase 'lose':\n\t\t\t\tp.textContent = 'You lose!'\n\t\t\t\tp.className = 'red'\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error('Invalid equipment:', resultat);\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tupdateUserScoreH1() {\n\t\tconst h1 = document.querySelector('#userScore');\n\t\th1.textContent = `User Score: ${this.gameUser.getUserScore()}`\n\t}\n\n\tasync showHighScoreList() {\n\t\tconst data = await getHighScoreList()\n\n\t\t// Clear the child elements to #highscoreList div\n\t\tdocument.querySelector('#highscoreList').innerHTML = ''\n\n\t\tfor (const key of data) {\n\t\t\tconst li = document.createElement('li')\n\t\t\tli.textContent = `${key.name}: ${key.score}`\n\t\t\tconst ol = document.querySelector('#highscoreList')\n\t\t\tol.appendChild(li)\n\t\t}\n\t}\n}\n","export class OverlayScreen {\n\n\toverlayScreen = document.querySelector('#overlayScreen')\n\n\tremoveOverlayScreen() {\n\t\t// Remove everything below overlayScreen tag \n\t\toverlayScreen.innerHTML = ''\n\t}\n}"],"names":["$375264e4f4d695b9$export$6503ec6e8aabbaf","$375264e4f4d695b9$export$f7ad0328861e2f03","$375264e4f4d695b9$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$f0b017f5cbcbb9eb$export$65f3ef7ec65d7a3d","user","userScore","setUser","this","getUser","addOnePointToUserScore","getUserScore","resetUserScore","$b9f32c9244eaf1ff$var$firebaseURL","async","$b9f32c9244eaf1ff$export$646e725f69f45119","highscorelistURL","response","fetch","json","$b9f32c9244eaf1ff$export$ef2115794e337804","player","playerScore","highScoreList","newScore","name","score","push","sort","a","b","updatedHighScoreList","slice","console","log","method","body","stringify","headers","$c176289178a3dd7c$exports","URL","resolve","url","toString","$815949cb1886f4b9$exports","$6383b974ca1f698b$exports","$dbb0dd33b91c362c$var$functions","gameUser","play","userChoice","showHighScoreList","computerChoice","createRandomEquipment","showEquipmentImg","showTextResultat","updateUserScoreH1","Math","floor","random","equipment","img","document","createElement","src","$parcel$interopDefault","error","div","querySelector","innerHTML","appendChild","resultat","p","textContent","className","data","key","li","$dbb0dd33b91c362c$var$screen","overlayScreen","removeOverlayScreen","addEventListener","event","preventDefault","playerName","getElementById","value","alert","rockButton","paperButton","scissorsButton"],"version":3,"file":"index.e0ea30d4.js.map"}