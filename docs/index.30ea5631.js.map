{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-18ef4eb0f90b299f.js","src/js/gameuser.js","src/js/firebase.js","node_modules/@parcel/runtime-js/lib/runtime-239b84b39fecd299.js","node_modules/@parcel/runtime-js/lib/runtime-0a1ec9cd2b3893e6.js","node_modules/@parcel/runtime-js/lib/runtime-260a52fb6ef31628.js","src/js/main.js","src/js/gamefunctions.js","src/js/overlayscreen.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"i7sBp\\\":\\\"index.30ea5631.js\\\",\\\"7NL4W\\\":\\\"rock.bf6f169d.png\\\",\\\"eswIZ\\\":\\\"paper.d85e7935.png\\\",\\\"iYJC3\\\":\\\"scissors.97ff9710.png\\\"}\"));","export class GameUser {\n\t#user;\n\t#userScore;\n\n\tsetUser(user) {\n\t\tthis.#user = user;\n\t\tthis.#userScore = 0;\n\t}\n\n\tgetUser() {\n\t\treturn this.#user;\n\t}\n\n\taddOnePointToUserScore() {\n\t\tthis.#userScore++;\n\t}\n\n\tgetUserScore() {\n\t\treturn this.#userScore;\n\t}\n\n\tresetUserScore() {\n\t\tthis.#userScore = 0;\n\t}\n}\n","const firebaseURL = 'https://play-a-game-b2437-default-rtdb.europe-west1.firebasedatabase.app/';\n\nexport async function getHighScoreList() {\n\tconst highscorelistURL = `${firebaseURL}/highscore.json`;\n\tconst response = await fetch(highscorelistURL);\n\tconst data = await response.json();\n\n\treturn data;\n}\n\nexport async function updateHighScoreList(player, playerScore) {\n\t// get data from Realtime Database\n\tconst highScoreList = await getHighScoreList();\n\n\t// user's score\n\tconst newScore = { name: player, score: playerScore };\n\n\t// add new score to array list \n\thighScoreList.push(newScore);\n\n\t// sort the array list\n\thighScoreList.sort((a, b) => b.score - a.score);\n\n\t// trim the array list to 5 objects\n\tconst updatedHighScoreList = highScoreList.slice(0, 5);\n\tconsole.log('Updated list:', updatedHighScoreList);\n\n\t// update Realtime Database \n\tawait fetch(`${firebaseURL}/highscore.json`, {\n\t\tmethod: 'PUT',\n\t\tbody: JSON.stringify(updatedHighScoreList),\n\t\theaders: { \"Content-Type\": \"application/json\" }\n\t});\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('i7sBp') + require('./helpers/bundle-manifest').resolve(\"7NL4W\");","module.exports = require('./helpers/bundle-url').getBundleURL('i7sBp') + require('./helpers/bundle-manifest').resolve(\"eswIZ\");","module.exports = require('./helpers/bundle-url').getBundleURL('i7sBp') + require('./helpers/bundle-manifest').resolve(\"iYJC3\");","import { GameFunctions } from './gamefunctions.js'\nimport { OverlayScreen } from './overlayscreen.js'\n\nconst functions = new GameFunctions()\nconst screen = new OverlayScreen()\n\n// Add highscore list\nfunctions.showHighScoreList()\n\n// Game starts when user clicking on go! button  \ndocument.querySelector('#setPlayerForm').addEventListener('submit', (event) => {\n\tevent.preventDefault(); // prevent form submission\n\tconst playerName = document.getElementById('playerName').value;\n\n\tif (playerName === 'Yoda') {\n\t\talert('No, Yoda. You are not welcome.')\n\t} else {\n\n\t\tscreen.removeOverlayScreen()\n\t\tfunctions.gameUser.setUser(playerName);\n\n\t\tconst rockButton = document.getElementById('rock');\n\t\tconst paperButton = document.getElementById('paper');\n\t\tconst scissorsButton = document.getElementById('scissors');\n\n\t\t// Call to main game method at gameFunction  \n\t\trockButton.addEventListener('click', () => functions.play('rock'));\n\t\tpaperButton.addEventListener('click', () => functions.play('paper'));\n\t\tscissorsButton.addEventListener('click', () => functions.play('scissors'));\n\t}\n})\n","import { GameUser } from './gameuser.js'\nimport { getHighScoreList, updateHighScoreList } from './firebase.js';\n\nimport rockImg from '../media/rock.png';\nimport paperImg from '../media/paper.png';\nimport scissorsImg from '../media/scissors.png'; \n\nexport class GameFunctions {\n\n\tgameUser = new GameUser();\n\n\t// main function \n\tplay(userChoice) {\n\n\t\tthis.showHighScoreList()\n\n\t\t// Add computer's random equipment\n\t\tconst computerChoice = this.createRandomEquipment()\n\n\t\t// Add computer equipment as picture \n\t\tconsole.log('computer:', computerChoice)\n\t\tthis.showEquipmentImg('computer', computerChoice)\n\n\t\t// Add user equipment as picture \n\t\tconsole.log('user:', userChoice);\n\t\tthis.showEquipmentImg('user', userChoice)\n\n\t\tif (userChoice === computerChoice) {\n\t\t\tconsole.log('Its a tie');\n\t\t\tthis.showTextResultat('tie')\n\n\t\t} else if ((userChoice === 'rock' && computerChoice === 'scissors') ||\n\t\t\t(userChoice === 'paper' && computerChoice === 'rock') ||\n\t\t\t(userChoice === 'scissors' && computerChoice === 'paper')) {\n\n\t\t\tconsole.log('You win');\n\t\t\tthis.showTextResultat('win')\n\t\t\tthis.gameUser.addOnePointToUserScore()\n\t\t\tthis.updateUserScoreH1()\n\n\t\t} else {\n\t\t\tconsole.log('You lose');\n\t\t\tthis.showTextResultat('lose')\n\n\t\t\tconst player = this.gameUser.getUser()\n\t\t\tconst playerScore = this.gameUser.getUserScore()\n\n\t\t\tupdateHighScoreList(player, playerScore)\n\t\t\tthis.gameUser.resetUserScore()\n\t\t\tthis.updateUserScoreH1()\n\t\t}\n\t}\n\n\tcreateRandomEquipment() {\n\t\tconst equipmentArray = ['rock', 'scissors', 'paper'];\n\t\tconst rnd = Math.floor(Math.random() * 3);\n\t\treturn equipmentArray[rnd];\n\t}\n\n\tshowEquipmentImg(user, equipment) {\n\t\tconst img = document.createElement('img');\n\n\t\tswitch (equipment) {\n\t\t\tcase 'rock':\n\t\t\t\timg.src = rockImg;\n\t\t\t\tbreak;\n\t\t\tcase 'paper':\n\t\t\t\timg.src = paperImg;\n\t\t\t\tbreak;\n\t\t\tcase 'scissors':\n\t\t\t\timg.src = scissorsImg;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error('Invalid equipment:', equipment);\n\t\t\t\treturn;\n\t\t}\n\n\t\t// Chose windows \n\t\tif (user !== 'computer') {\n\t\t\tconst div = document.querySelector('#userChoice');\n\t\t\tdiv.innerHTML = '';\n\t\t\tdiv.appendChild(img);\n\t\t} else {\n\t\t\tconst div = document.querySelector('#computerChoice');\n\t\t\tdiv.innerHTML = '';\n\t\t\tdiv.appendChild(img);\n\t\t}\n\t}\n\n\tshowTextResultat(resultat) {\n\t\tconst p = document.querySelector('#resultat')\n\n\t\tswitch (resultat) {\n\t\t\tcase 'tie':\n\t\t\t\tp.textContent = 'Its a tie!'\n\t\t\t\tp.className = 'orange'\n\t\t\t\tbreak;\n\t\t\tcase 'win':\n\t\t\t\tp.textContent = 'You win!'\n\t\t\t\tp.className = 'green'\n\t\t\t\tbreak;\n\t\t\tcase 'lose':\n\t\t\t\tp.textContent = 'You lose!'\n\t\t\t\tp.className = 'red'\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tconsole.error('Invalid equipment:', resultat);\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tupdateUserScoreH1() {\n\t\tconst h1 = document.querySelector('#userScore');\n\t\th1.textContent = `User Score: ${this.gameUser.getUserScore()}`\n\t}\n\n\tasync showHighScoreList() {\n\t\tconst data = await getHighScoreList()\n\n\t\t// Clear the child elements to #highscoreList div\n\t\tdocument.querySelector('#highscoreList').innerHTML = ''\n\n\t\tfor (const key of data) {\n\t\t\tconst li = document.createElement('li')\n\t\t\tli.textContent = `${key.name}: ${key.score}`\n\t\t\tconst ol = document.querySelector('#highscoreList')\n\t\t\tol.appendChild(li)\n\t\t}\n\t}\n}\n","export class OverlayScreen {\n\n\toverlayScreen = document.querySelector('#overlayScreen')\n\n\tremoveOverlayScreen() {\n\t\t// Remove everything below overlayScreen tag \n\t\toverlayScreen.innerHTML = ''\n\t}\n}"],"names":["$743b6b817da0bbdb$export$6503ec6e8aabbaf","$743b6b817da0bbdb$export$f7ad0328861e2f03","$743b6b817da0bbdb$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$bd889b542c495065$export$bdfd709ae4826697","$bd889b542c495065$var$bundleURL","$bd889b542c495065$var$getBaseURL","url","replace","value","err","matches","stack","match","$bd889b542c495065$var$getBundleURL","parcelRequire","register","JSON","parse","$881e494985a92489$export$65f3ef7ec65d7a3d","user","userScore","setUser","this","getUser","addOnePointToUserScore","getUserScore","resetUserScore","$8bfacd4dc97312d7$var$firebaseURL","async","$8bfacd4dc97312d7$export$646e725f69f45119","highscorelistURL","response","fetch","json","$8bfacd4dc97312d7$export$ef2115794e337804","player","playerScore","highScoreList","newScore","name","score","push","sort","a","b","updatedHighScoreList","slice","console","log","method","body","stringify","headers","$391322fc2a445aad$exports","getBundleURL","resolve","$dff9b94cc31ca74c$exports","$f686b09738c07e09$exports","$49a0f74343c5890b$var$functions","gameUser","play","userChoice","showHighScoreList","computerChoice","createRandomEquipment","showEquipmentImg","showTextResultat","updateUserScoreH1","Math","floor","random","equipment","img","document","createElement","src","$parcel$interopDefault","error","div","querySelector","innerHTML","appendChild","resultat","p","textContent","className","data","key","li","$49a0f74343c5890b$var$screen","overlayScreen","removeOverlayScreen","addEventListener","event","preventDefault","playerName","getElementById","alert","rockButton","paperButton","scissorsButton"],"version":3,"file":"index.30ea5631.js.map"}